(this["webpackJsonplastfm-app"]=this["webpackJsonplastfm-app"]||[]).push([[0],{84:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(0),r=a.n(n),s=a(9),i=a.n(s),j=a(111),o=a(114),l=a(116),b=a(45),d=a(18),h=a(129),O=a(118),x=a(19),u="GET_CHART",p="GET_SINGLE_ARTIST",m="SEARCH_SONG",f="GET_SEARCH_SONG";function g(e,t){return function(a){fetch(e).then((function(e){if(!e.ok)throw Error(e.statusText);return e})).then((function(e){return e.json()})).then((function(e){return a(function(e,t){if("GET_CHART"===t)return{type:u,topArtist:e};if("GET_SINGLE_ARTIST"===t)return{type:p,artistDetails:e};if("GET_SEARCH_SONG"===t)return{type:f,song:e}}(e,t))}))}}var y=Object(j.a)((function(){return{header:{display:"flex",justifyContent:"space-evenly"},link:{textDecoration:"none",color:"white"},input:{background:"white"},inputWrap:{margin:"2%",display:"flex",alignItems:"center"},btn:{marginLeft:10}}})),v={handleSearch:function(e){return{type:m,text:e.target.value}}},S=Object(x.b)((function(e){return{search:e.searchValue.search}}),v)((function(e){var t=e.handleSearch,a=e.search,n=y();return Object(c.jsx)(o.a,{position:"fixed",children:Object(c.jsxs)(l.a,{className:n.header,children:[Object(c.jsx)(b.a,{variant:"h6",children:Object(c.jsx)(d.b,{className:n.link,to:{pathname:"/"},children:"Home"})}),Object(c.jsxs)("div",{className:n.inputWrap,children:[Object(c.jsx)(h.a,{className:n.input,id:"outlined-basic",label:"Search music",variant:"outlined",defaultValue:a,onChange:t}),Object(c.jsx)(d.b,{to:{pathname:"/search/".concat(a)},className:n.link,children:Object(c.jsx)(O.a,{className:n.btn,variant:"contained",color:"inherit",type:"submit",children:"Search"})})]})]})})})),k=a(119),N=a(120),w=a(117),A=a(121),T=a(122),_=a(130),E=a(124),R=a(123),C=a(44),G=a.n(C),I=Object(j.a)((function(){return{root:{margin:"auto",display:"flex",overflow:"visible",maxWidth:250,maxHeight:220,marginTop:"7%"},wrap:{display:"flex",flexWrap:"wrap"},title:{display:"flex",justifyContent:"center",marginTop:125}}})),H={getFetch:g},D=Object(x.b)((function(e){return{search:e.searchValue.search,song:e.songReducer.song}}),H)((function(e){var t=e.search,a=e.getFetch,r=e.song,s=I();Object(n.useEffect)((function(){var e="http://ws.audioscrobbler.com/2.0/?method=track.search&track=".concat(t,"&api_key=a5297112b152bc2e75ee90f207e25d7b&format=json");a(e,f)}),[]);var i=r.map((function(e){return Object(c.jsx)(k.a,{className:s.root,children:Object(c.jsx)(N.a,{children:Object(c.jsx)(b.a,{variant:"body2",color:"textSecondary",component:"span",children:Object(c.jsxs)(w.a,{children:[Object(c.jsxs)(A.a,{children:[Object(c.jsx)(T.a,{children:Object(c.jsx)(_.a,{children:Object(c.jsx)(R.a,{})})}),Object(c.jsx)(E.a,{primary:"Artist name",secondary:e.artist})]}),Object(c.jsxs)(A.a,{children:[Object(c.jsx)(T.a,{children:Object(c.jsx)(_.a,{children:Object(c.jsx)(G.a,{})})}),Object(c.jsx)(E.a,{primary:"song",secondary:e.name})]})]})})})},Math.random())}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:s.title,children:Object(c.jsx)("h2",{children:"Your search"})}),Object(c.jsx)("div",{className:s.wrap,children:i})]})})),W=a(126),L=a(125),F=a(127),M=Object(j.a)((function(){return{root:{margin:"auto",display:"flex",overflow:"visible",maxWidth:250,maxHeight:330,marginTop:"7%"},wrap:{display:"flex",flexWrap:"wrap"},title:{display:"flex",justifyContent:"center",marginTop:125},link:{textDecoration:"none",color:"#4791db",display:"flex",alignItems:"center"}}})),V={getFetch:g},z=Object(x.b)((function(e){return{chartList:e.chartReducer.artists,singleArtist:e.chart}}),V)((function(e){var t=e.getFetch,a=e.chartList,r=M();Object(n.useEffect)((function(){t("https://ws.audioscrobbler.com/2.0/?method=chart.gettoptracks&api_key=a5297112b152bc2e75ee90f207e25d7b&format=json",u)}),[]);var s=a.map((function(e){return Object(c.jsx)(k.a,{className:r.root,children:Object(c.jsx)(N.a,{children:Object(c.jsx)(b.a,{variant:"body2",color:"textSecondary",component:"span",children:Object(c.jsxs)(w.a,{children:[Object(c.jsxs)(A.a,{children:[Object(c.jsx)(T.a,{children:Object(c.jsx)(_.a,{children:Object(c.jsx)(R.a,{})})}),Object(c.jsx)(d.b,{className:r.link,to:e.artist.name.replace(/\s/g,""),children:Object(c.jsx)(E.a,{onClick:function(){return function(e){var a="http://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=".concat(e,"&api_key=a5297112b152bc2e75ee90f207e25d7b&format=json");t(a,p)}(e.artist.name)},primary:"Artist name",secondary:e.artist.name})})]}),Object(c.jsxs)(A.a,{children:[Object(c.jsx)(T.a,{children:Object(c.jsx)(_.a,{children:Object(c.jsx)(G.a,{})})}),Object(c.jsx)(E.a,{primary:"song",secondary:e.name})]}),Object(c.jsxs)(A.a,{children:[Object(c.jsx)(T.a,{children:Object(c.jsx)(_.a,{children:Object(c.jsx)(L.a,{})})}),Object(c.jsx)(E.a,{primary:"listeners",secondary:e.listeners})]}),Object(c.jsx)(W.a,{disableSpacing:!0,children:Object(c.jsx)(O.a,{size:"small",color:"primary",children:Object(c.jsxs)("a",{className:r.link,href:e.url,children:["More information",Object(c.jsx)(F.a,{fontSize:"large"})]})})})]})})})},Math.random())}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:r.title,children:Object(c.jsx)("h2",{children:"Top song"})}),Object(c.jsx)("div",{className:r.wrap,children:s})]})})),B=a(128),J=Object(j.a)((function(){return{tag:{marginRight:10}}})),X=function(e){var t=e.tags,a=J(),n=t.tag.map((function(e){return Object(c.jsx)("span",{className:a.tag,children:"#".concat(e.name)},e.name)}));return Object(c.jsx)("span",{children:n})},P=Object(j.a)((function(){return{root:{maxWidth:"60%",margin:"auto",marginTop:"20%",display:"flex",justifyContent:"center",overflow:"visible"},link:{textDecoration:"none",color:"#4791db",display:"flex",alignItems:"center"}}})),U=Object(x.b)((function(e){return{singleArtist:e.singleArtist.singleArtist}}),null)((function(e){var t=e.singleArtist,a=P();return 0===t.length?null:Object(c.jsx)(k.a,{className:a.root,children:Object(c.jsx)(N.a,{children:Object(c.jsx)(b.a,{variant:"body2",color:"textSecondary",component:"span",children:Object(c.jsxs)(w.a,{children:[Object(c.jsxs)(A.a,{children:[Object(c.jsx)(T.a,{children:Object(c.jsx)(_.a,{children:Object(c.jsx)(R.a,{})})}),Object(c.jsx)(E.a,{primary:"Artist name",secondary:t.name})]}),Object(c.jsxs)(A.a,{children:[Object(c.jsx)(T.a,{children:Object(c.jsx)(_.a,{children:Object(c.jsx)(B.a,{})})}),Object(c.jsx)(E.a,{primary:"Artist tags",secondary:Object(c.jsx)(X,{tags:t.tags})})]}),Object(c.jsx)(W.a,{disableSpacing:!0,children:Object(c.jsx)(d.b,{className:a.link,to:"/",children:Object(c.jsxs)(O.a,{size:"small",color:"primary",children:[Object(c.jsx)(F.a,{fontSize:"large"}),"Back to chart"]})})})]})})})})})),Y=a(12);var q=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(S,{}),Object(c.jsxs)(Y.c,{children:[Object(c.jsx)(Y.a,{exact:!0,path:"/",component:z}),Object(c.jsx)(Y.a,{path:"/search/:id",component:D}),Object(c.jsx)(Y.a,{path:"/:id",component:U})]})]})},K=a(26),Q=a(62),Z=a(15),$={artists:[]};var ee={singleArtist:[]};var te={search:[]};var ae={song:[]};var ce=Object(K.c)({chartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(Z.a)(Object(Z.a)({},e),{},{artists:t.topArtist.tracks.track});default:return e}},singleArtist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(Z.a)(Object(Z.a)({},e),{},{singleArtist:t.artistDetails.artist});default:return e}},searchValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(Z.a)(Object(Z.a)({},e),{},{search:t.text});default:return e}},songReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(Z.a)(Object(Z.a)({},e),{},{song:t.song.results.trackmatches.track});default:return e}}}),ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||K.d,re=Object(K.e)(ce,ne(Object(K.a)(Q.a)));i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(x.a,{store:re,children:Object(c.jsx)(d.a,{children:Object(c.jsx)(q,{})})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.a8bc7352.chunk.js.map